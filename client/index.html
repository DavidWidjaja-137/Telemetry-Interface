<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/stylesheet.css">
</head>
</head>

<body>

    <!-- Titlebaar contains the title of the webapp -->
    <div id="Titlebar">
        <img src="Solar_Logo.png" alt="UBC Solar Logo" id="Titlebar-Emblem-SolarLogo">

        <table id="Titlebar-table">
            <tr>
                <td><h2 class="Titlebar-mainheader">Telemetry Interface for Daybreak</h2></td>
            </tr>
            <tr>
                <td><a href="https://github.com/Telemetry-Interface" id="Titlebar-link">Github: Telemetry-Interface</a></td>
            </tr>
        </table>
    </div>

    <!-- Sidebar contains the most critical information -->
    <div id="SideNav">

        <div id="SideNav-Emblem">
            <!--
            <img src="Solar_Logo.png" alt="UBC Solar Logo" id="SideNav-Emblem-Solarlogo">
            -->
            <h2 class="SideNav-mainheader">Vehicle Dashboard</h2>
        </div>

        <!-- Communications status -->
        
        <div id="SideNav-Communications">
            <h3 class="SideNav-header"> Communciations</h3>
            <table class="SideNav-table">
                <tr>
                    <td>Server Status: </td>
                    <td>Disconnected</td>
                </tr>
                <tr>
                    <td>Timestamp: </td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Radio RSSI (dbm): </td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Cellular RSSI (dbm): </td>
                    <td>-</td>
                </tr>
            </table>
        </div>
        

        <!-- Summary of battery status -->
        <div id="SideNav-BatterySummary">
            <h3 class="SideNav-header">Battery Summary</h3>
            <table class="SideNav-table">
                <tr>
                    <td>Pack Voltage</td>
                    <td>000.0</td>
                    <td>V</td>
                </tr>
                <tr>
                    <td>Min. Cell Voltage</td>
                    <td>000.0</td>
                    <td>V</td>
                </tr>
                <tr>
                    <td>Max. Cell Voltage</td>
                    <td>000.0</td>
                    <td>V</td>
                </tr>
                <tr>
                    <td>Pack Current</td>
                    <td>000.0</td>
                    <td>A</td>
                </tr>  
                <tr>
                    <td>Max. Temperature</td>
                    <td>000.0</td>
                    <td>C</td>
                </tr>
                <tr>
                    <td>State of Charge</td>
                    <td>000.0</td>
                    <td>%</td>
                </tr>
                <tr>
                    <td>Supp. Voltage</td>
                    <td>000.0</td>
                    <td>V</td>
                </tr>
            </table>
        </div>

        <!-- Summary of motor status -->
        <div id="SideNav-MotorSummary">
            <h3 class="SideNav-header">Motor Summary</h3>
            <table class="SideNav-table">
                <tr>
                    <td>Speed</td>
                    <td>000.0</td>
                    <td>km/h</td>
                </tr>
                <tr>
                    <td>Temperature</td>
                    <td>000.0</td>
                    <td>C</td>
                </tr>
                <tr>
                    <td>Current</td>
                    <td>000.0</td>
                    <td>A</td>
                </tr>
            </table>
        </div>

        <!-- Enumeration of most crucial battery faults-->
        <div id="SideNav-BatteryFaults">
            <h3 class="SideNav-header">Battery Faults</h3>
            <table class="SideNav-table">
                <tr>
                    <td>Battery Low</td>
                    <td>Battery Full</td>
                    <td>Comm. Fault</td>
                </tr>
                <tr>
                    <td>Charge Overcurrent</td>
                    <td>Discharge Overcurrent</td>
                    <td>Overtemperature</td>

                </tr>
                <tr>
                    <td>Undervoltage</td>
                    <td>Overvoltage</td>
                    <td>General Fault</td>
                </tr>
            </table>
        </div>

    </div>

    <div id="GraphNav">

        <!--
        - Battery Temperature
        - Motor Temperature
        - Speed
        - Motor Current + Pack Current
        -->

        <div id="GraphNav-Title">
            <h1>Time Series Graphs</h1>
        </div>

        <div id="GraphNav-Temp">
            <h2> Temperature time-series here</h2>            
        </div>

        <div id="GraphNav-Speed">
            <h2> Speed time-series here</h2>
        </div>

        <div id="GraphNav-Current">
            <h2> Current time-series here</h2>
        </div>

    </div>

    <!-- Tabs -->
    <script type="text/javascript" src="js/tabs.js"></script>
    <div id="tab-bar">
        
        <button class="tablink" onclick="openPage('Faults', this, '#0033cc')" id="defaultOpen"><h3>Other Faults</h3></button>
        <button class="tablink" onclick="openPage('Maps', this, '#0033cc')"><h3>Maps</h3></button>
        <button class="tablink" onclick="openPage('Simulation', this, '#0033cc')"><h3>Simulation</h3></button>
    </div>

    <!-- Battery Tab -->
    <div id="Faults" class="tabcontent">

        <!-- BMS State -->
        <div id="Faults-bmsState">
            <h3 class="Faults-header">BMS State</h3>
            <table class = "tab-table">
                <tr>
                    <td>Relay Fault</td>
                    <td>K3 Contactor On</td>
                    <td>K2 Contactor On</td>
                </tr>
                <tr>
                    <td>K1 Contactor On</td>
                    <td>Fault State</td>
                    <td> - </td>
                </tr>
            </table>
        </div>

        <!-- Other Battery Fault Codes -->
        <div id="Faults-batteryFault">
            <h3 class="Faults-header">Battery Faults</h3>
            <table class="tab-table">
                <tr>
                    <td>Fan On</td>
                    <td>LLIM Set</td>
                    <td>HLIM Set</td>
                </tr>
                <tr>
                    <td>CAN Contactor Request</td>
                    <td>Hardwire Contactor Request</td>
                    <td>Interlock Tripped</td>
                </tr>
                <tr>
                    <td>Power from Load</td>
                    <td>Power from Source</td>
                    <td> - </td>
                </tr>
            </table>
        </div>

        <!-- Battery Warning Flags -->
        <div id="Faults-batteryWarning">
            <h3 class="Faults-header">Battery Warning</h3>
            <table class="tab-table">
                <tr>
                    <td>Isolation Fault</td>
                    <td>Low SOH</td>
                    <td>Hot Temperature</td>
                </tr>
                <tr>
                    <td>Cold Temperature</td>
                    <td>Charge Overcurrent</td>
                    <td>High Voltage</td>
                </tr>
                <tr>
                    <td>Low Voltage</td>
                    <td> - </td>
                    <td> - </td>
                </tr>
            </table>
        </div>

        <!-- Motor Warnings -->
        <div id="Faults-motorWarning">
            <h3 class="Faults-header">Motor Warning</h3>
            <table class="tab-table">
                <tr>
                    <td>Voltage Lock-out</td>
                    <td>Configuration Error</td>
                    <td>Watchdog Reset</td>
                </tr>
                <tr>
                    <td>DC Over-voltage</td>
                    <td>Software Over-current</td>
                    <td>Hardware Over-current</td>
                </tr>
            </table>
        </div>
        
    </div>

    <div id="Maps" class="tabcontent">

        <p>Maps and weather information go here</p>

        <!-- Insert hopes and dreams here -->
            
        <!--
        <h3 id="Location">Location</h3>
        <h4>Google Map Data</h4>
        <div id="googleMap" style="width:500px;height:500px"></div>
        <script type="text/javascript" src="./script/map.js"></script>
        -->
        <!-- Google Maps API: replace KEY_HERE with your API keys                    -->
        <!-- https://developers.google.com/maps/documentation/javascript/get-api-key -->
        <!--
        <script src="https://maps.googleapis.com/maps/api/js?key=KEY_HERE&callback=myMap"></script>
        -->
    </div>

    <div id="Simulation" class="tabcontent">

        <p>Simulations and the result of data models go here</p>

    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="js/main.js"></script>
</body>

</html>